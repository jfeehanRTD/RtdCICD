# JCI Configuration File
# This file is auto-generated by 'jci init' and can be customized

version: "1"

project:
  name: "my-java-app"
  description: "My Java Application"

build:
  tool: "maven"        # maven | gradle
  javaVersion: "21"

git:
  mainBranch: "main"
  commit:
    conventional: true  # Use conventional commits (feat, fix, docs, etc.)
    sign: false         # GPG sign commits

github:
  owner: "your-username"
  repo: "your-repo"

workflows:
  build:
    enabled: true
  test:
    enabled: true
    coverage:
      enabled: true
      minCoverage: 80
  sonar:
    enabled: true
  docker:
    enabled: true

sonar:
  organization: "your-sonar-org"
  projectKey: "your-org_your-repo"
  qualityGate:
    wait: true
    timeout: 300

docker:
  registry: "ghcr.io"
  imageName: ""        # Defaults to github.repository
  port: 8080

branchProtection:
  main:
    requirePullRequest: true
    requiredApprovals: 1
    dismissStaleReviews: true
    requireStatusChecks: true
    statusChecks:
      - "build"
      - "test"
      - "SonarCloud Code Analysis"
    enforceAdmins: false
